{"ast":null,"code":"import { getUsers } from '../services/userService';\nexport const fetchEmployees = async (companyId, setEmployees, setError, setIsLoading) => {\n  try {\n    const data = await getUsers();\n    const usersWithIds = data ? Object.entries(data).map(([id, user]) => ({\n      id,\n      ...user\n    })) : [];\n    const filtered = usersWithIds.filter(user => {\n      var _user$companyIds;\n      return (_user$companyIds = user.companyIds) === null || _user$companyIds === void 0 ? void 0 : _user$companyIds.some(company => company.companyId === companyId);\n    });\n    setEmployees(filtered);\n  } catch (err) {\n    setError('Failed to fetch employees.');\n  } finally {\n    setIsLoading(false);\n  }\n};","map":{"version":3,"names":["getUsers","fetchEmployees","companyId","setEmployees","setError","setIsLoading","data","usersWithIds","Object","entries","map","id","user","filtered","filter","_user$companyIds","companyIds","some","company","err"],"sources":["/Users/dorlevi/IdeaProjects/newShiftWise/client/src/utils/employeeHandlers.js"],"sourcesContent":["import { getUsers } from '../services/userService';\n\nexport const fetchEmployees = async (companyId, setEmployees, setError, setIsLoading) => {\n    try {\n        const data = await getUsers();\n        const usersWithIds = data ? Object.entries(data).map(([id, user]) => ({ id, ...user })) : [];\n\n        const filtered = usersWithIds.filter((user) =>\n            user.companyIds?.some((company) => company.companyId === companyId)\n        );\n\n        setEmployees(filtered);\n    } catch (err) {\n        setError('Failed to fetch employees.');\n    } finally {\n        setIsLoading(false);\n    }\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,yBAAyB;AAElD,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAOC,SAAS,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,YAAY,KAAK;EACrF,IAAI;IACA,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAAC,CAAC;IAC7B,MAAMO,YAAY,GAAGD,IAAI,GAAGE,MAAM,CAACC,OAAO,CAACH,IAAI,CAAC,CAACI,GAAG,CAAC,CAAC,CAACC,EAAE,EAAEC,IAAI,CAAC,MAAM;MAAED,EAAE;MAAE,GAAGC;IAAK,CAAC,CAAC,CAAC,GAAG,EAAE;IAE5F,MAAMC,QAAQ,GAAGN,YAAY,CAACO,MAAM,CAAEF,IAAI;MAAA,IAAAG,gBAAA;MAAA,QAAAA,gBAAA,GACtCH,IAAI,CAACI,UAAU,cAAAD,gBAAA,uBAAfA,gBAAA,CAAiBE,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAAChB,SAAS,KAAKA,SAAS,CAAC;IAAA,CACvE,CAAC;IAEDC,YAAY,CAACU,QAAQ,CAAC;EAC1B,CAAC,CAAC,OAAOM,GAAG,EAAE;IACVf,QAAQ,CAAC,4BAA4B,CAAC;EAC1C,CAAC,SAAS;IACNC,YAAY,CAAC,KAAK,CAAC;EACvB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}