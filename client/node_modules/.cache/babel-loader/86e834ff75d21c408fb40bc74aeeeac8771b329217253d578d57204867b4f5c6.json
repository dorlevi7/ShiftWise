{"ast":null,"code":"var _jsxFileName = \"/Users/dorlevi/IdeaProjects/newShiftWise/client/src/components/ProfileScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport { getUsers } from '../services/userService';\nimport '../styles/ProfileScreen.css';\nimport '../styles/Navbar.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfileScreen = () => {\n  _s();\n  var _userData$company;\n  const [userData, setUserData] = useState(null);\n  const [fullUserFromDB, setFullUserFromDB] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchUser = async () => {\n      const loggedUser = JSON.parse(localStorage.getItem('user'));\n      console.log(\"üîê Logged user from localStorage (ProfileScreen):\", loggedUser);\n      if (!loggedUser) {\n        navigate('/');\n        return;\n      }\n      setUserData(loggedUser);\n      try {\n        const allUsers = await getUsers();\n        const usersWithIds = Object.entries(allUsers).map(([id, user]) => ({\n          id,\n          ...user\n        }));\n        const matchedUser = usersWithIds.find(u => u.id === loggedUser.user.id);\n        console.log(\"‚úÖ Full user from DB:\", matchedUser);\n        setFullUserFromDB(matchedUser);\n      } catch (error) {\n        console.error(\"‚ùå Error fetching user from DB:\", error);\n      }\n    };\n    fetchUser();\n  }, [navigate]);\n  if (!userData) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-placeholder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Welcome, \", userData.user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email: \", userData.user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Company: \", ((_userData$company = userData.company) === null || _userData$company === void 0 ? void 0 : _userData$company.name) || 'N/A']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Role: \", userData.user.role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), (fullUserFromDB === null || fullUserFromDB === void 0 ? void 0 : fullUserFromDB.phone) && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Phone: \", fullUserFromDB.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 47\n        }, this), (fullUserFromDB === null || fullUserFromDB === void 0 ? void 0 : fullUserFromDB.photoData) && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: fullUserFromDB.photoData,\n          alt: \"Profile\",\n          style: {\n            width: '120px',\n            height: '120px',\n            borderRadius: '8px',\n            marginTop: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/home'),\n          children: \"Back to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ProfileScreen, \"2FikLo/VPmhfIIq1V8xX+3WbklM=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfileScreen;\nexport default ProfileScreen;\nvar _c;\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Navbar","getUsers","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileScreen","_s","_userData$company","userData","setUserData","fullUserFromDB","setFullUserFromDB","navigate","fetchUser","loggedUser","JSON","parse","localStorage","getItem","console","log","allUsers","usersWithIds","Object","entries","map","id","user","matchedUser","find","u","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","email","company","role","phone","photoData","src","alt","style","width","height","borderRadius","marginTop","onClick","_c","$RefreshReg$"],"sources":["/Users/dorlevi/IdeaProjects/newShiftWise/client/src/components/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport { getUsers } from '../services/userService';\nimport '../styles/ProfileScreen.css';\nimport '../styles/Navbar.css';\n\nconst ProfileScreen = () => {\n    const [userData, setUserData] = useState(null);\n    const [fullUserFromDB, setFullUserFromDB] = useState(null);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            const loggedUser = JSON.parse(localStorage.getItem('user'));\n            console.log(\"üîê Logged user from localStorage (ProfileScreen):\", loggedUser);\n\n            if (!loggedUser) {\n                navigate('/');\n                return;\n            }\n\n            setUserData(loggedUser);\n\n            try {\n                const allUsers = await getUsers();\n                const usersWithIds = Object.entries(allUsers).map(([id, user]) => ({ id, ...user }));\n\n                const matchedUser = usersWithIds.find((u) => u.id === loggedUser.user.id);\n\n                console.log(\"‚úÖ Full user from DB:\", matchedUser);\n                setFullUserFromDB(matchedUser);\n            } catch (error) {\n                console.error(\"‚ùå Error fetching user from DB:\", error);\n            }\n        };\n\n        fetchUser();\n    }, [navigate]);\n\n    if (!userData) return <p>Loading...</p>;\n\n    return (\n        <>\n            <Navbar />\n            <div className=\"navbar-placeholder\"></div>\n            <div className=\"profile-container\">\n                <div className=\"profile-info\">\n                    <h1>Welcome, {userData.user.name}</h1>\n                    <p>Email: {userData.user.email}</p>\n                    <p>Company: {userData.company?.name || 'N/A'}</p>\n                    <p>Role: {userData.user.role}</p>\n                    {fullUserFromDB?.phone && <p>Phone: {fullUserFromDB.phone}</p>}\n                    {fullUserFromDB?.photoData && (\n                        <img\n                            src={fullUserFromDB.photoData}\n                            alt=\"Profile\"\n                            style={{ width: '120px', height: '120px', borderRadius: '8px', marginTop: '10px' }}\n                        />\n                    )}\n                    <button onClick={() => navigate('/home')}>Back to Home</button>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default ProfileScreen;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,UAAU;AAC7B,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,OAAO,6BAA6B;AACpC,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9B,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,iBAAA;EACxB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAMgB,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACZ,MAAMgB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MAC3DC,OAAO,CAACC,GAAG,CAAC,mDAAmD,EAAEN,UAAU,CAAC;MAE5E,IAAI,CAACA,UAAU,EAAE;QACbF,QAAQ,CAAC,GAAG,CAAC;QACb;MACJ;MAEAH,WAAW,CAACK,UAAU,CAAC;MAEvB,IAAI;QACA,MAAMO,QAAQ,GAAG,MAAMrB,QAAQ,CAAC,CAAC;QACjC,MAAMsB,YAAY,GAAGC,MAAM,CAACC,OAAO,CAACH,QAAQ,CAAC,CAACI,GAAG,CAAC,CAAC,CAACC,EAAE,EAAEC,IAAI,CAAC,MAAM;UAAED,EAAE;UAAE,GAAGC;QAAK,CAAC,CAAC,CAAC;QAEpF,MAAMC,WAAW,GAAGN,YAAY,CAACO,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACJ,EAAE,KAAKZ,UAAU,CAACa,IAAI,CAACD,EAAE,CAAC;QAEzEP,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEQ,WAAW,CAAC;QAChDjB,iBAAiB,CAACiB,WAAW,CAAC;MAClC,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZZ,OAAO,CAACY,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MAC1D;IACJ,CAAC;IAEDlB,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;EAEd,IAAI,CAACJ,QAAQ,EAAE,oBAAON,OAAA;IAAA8B,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEvC,oBACIlC,OAAA,CAAAE,SAAA;IAAA4B,QAAA,gBACI9B,OAAA,CAACH,MAAM;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVlC,OAAA;MAAKmC,SAAS,EAAC;IAAoB;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC1ClC,OAAA;MAAKmC,SAAS,EAAC,mBAAmB;MAAAL,QAAA,eAC9B9B,OAAA;QAAKmC,SAAS,EAAC,cAAc;QAAAL,QAAA,gBACzB9B,OAAA;UAAA8B,QAAA,GAAI,WAAS,EAACxB,QAAQ,CAACmB,IAAI,CAACW,IAAI;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACtClC,OAAA;UAAA8B,QAAA,GAAG,SAAO,EAACxB,QAAQ,CAACmB,IAAI,CAACY,KAAK;QAAA;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnClC,OAAA;UAAA8B,QAAA,GAAG,WAAS,EAAC,EAAAzB,iBAAA,GAAAC,QAAQ,CAACgC,OAAO,cAAAjC,iBAAA,uBAAhBA,iBAAA,CAAkB+B,IAAI,KAAI,KAAK;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjDlC,OAAA;UAAA8B,QAAA,GAAG,QAAM,EAACxB,QAAQ,CAACmB,IAAI,CAACc,IAAI;QAAA;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAChC,CAAA1B,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEgC,KAAK,kBAAIxC,OAAA;UAAA8B,QAAA,GAAG,SAAO,EAACtB,cAAc,CAACgC,KAAK;QAAA;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAC7D,CAAA1B,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEiC,SAAS,kBACtBzC,OAAA;UACI0C,GAAG,EAAElC,cAAc,CAACiC,SAAU;UAC9BE,GAAG,EAAC,SAAS;UACbC,KAAK,EAAE;YAAEC,KAAK,EAAE,OAAO;YAAEC,MAAM,EAAE,OAAO;YAAEC,YAAY,EAAE,KAAK;YAAEC,SAAS,EAAE;UAAO;QAAE;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtF,CACJ,eACDlC,OAAA;UAAQiD,OAAO,EAAEA,CAAA,KAAMvC,QAAQ,CAAC,OAAO,CAAE;UAAAoB,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA,eACR,CAAC;AAEX,CAAC;AAAC9B,EAAA,CA1DID,aAAa;EAAA,QAGEP,WAAW;AAAA;AAAAsD,EAAA,GAH1B/C,aAAa;AA4DnB,eAAeA,aAAa;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}