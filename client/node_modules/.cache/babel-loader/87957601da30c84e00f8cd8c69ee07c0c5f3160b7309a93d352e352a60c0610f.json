{"ast":null,"code":"// utils/utils.js\nimport { updateAvailabilityStatus } from '../services/availabilityService';\nexport const calculateWeekKey = weekOffset => {\n  const today = new Date();\n  const firstDayOfWeek = new Date(today.setDate(today.getDate() - today.getDay() + weekOffset * 7));\n  const formatDate = date => `${date.getFullYear()}_${String(date.getMonth() + 1).padStart(2, '0')}_${String(date.getDate()).padStart(2, '0')}`;\n  return `week_${formatDate(firstDayOfWeek)}`;\n};\nexport const calculateWeekRange = weekOffset => {\n  const today = new Date();\n  const firstDayOfWeek = new Date(today.setDate(today.getDate() - today.getDay() + weekOffset * 7));\n  const lastDayOfWeek = new Date(firstDayOfWeek);\n  lastDayOfWeek.setDate(firstDayOfWeek.getDate() + 6);\n  const formatDate = date => {\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return `${day}/${month}/${year}`;\n  };\n  return `${formatDate(firstDayOfWeek)} - ${formatDate(lastDayOfWeek)}`;\n};\nexport const selectMorningOrNoonShift = async (userId, day, updatedAvailability, weekKey, currentCompany) => {\n  var _updatedAvailability$, _updatedAvailability$2;\n  const previousDay = calculatePreviousDay(day);\n  if ((_updatedAvailability$ = updatedAvailability[userId]) !== null && _updatedAvailability$ !== void 0 && (_updatedAvailability$2 = _updatedAvailability$['Night']) !== null && _updatedAvailability$2 !== void 0 && _updatedAvailability$2[previousDay]) {\n    updatedAvailability[userId]['Night'][previousDay].status = 'disabled';\n    await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Night', previousDay, 'disabled');\n  }\n};\nexport const selectNightShift = async (userId, day, updatedAvailability, weekKey, weekOffset, currentCompany) => {\n  const nextDay = calculateNextDay(day);\n  if (day === 'Saturday') {\n    var _updatedAvailability$3, _updatedAvailability$4, _updatedAvailability$5, _updatedAvailability$6;\n    const nextWeekKey = calculateWeekKey(weekOffset + 1);\n    if ((_updatedAvailability$3 = updatedAvailability[userId]) !== null && _updatedAvailability$3 !== void 0 && (_updatedAvailability$4 = _updatedAvailability$3['Morning']) !== null && _updatedAvailability$4 !== void 0 && _updatedAvailability$4['Sunday']) {\n      await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Morning', 'Sunday', 'disabled');\n    }\n    if ((_updatedAvailability$5 = updatedAvailability[userId]) !== null && _updatedAvailability$5 !== void 0 && (_updatedAvailability$6 = _updatedAvailability$5['Noon']) !== null && _updatedAvailability$6 !== void 0 && _updatedAvailability$6['Sunday']) {\n      await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Noon', 'Sunday', 'disabled');\n    }\n  } else {\n    var _updatedAvailability$7, _updatedAvailability$8, _updatedAvailability$9, _updatedAvailability$10;\n    if ((_updatedAvailability$7 = updatedAvailability[userId]) !== null && _updatedAvailability$7 !== void 0 && (_updatedAvailability$8 = _updatedAvailability$7['Morning']) !== null && _updatedAvailability$8 !== void 0 && _updatedAvailability$8[nextDay]) {\n      updatedAvailability[userId]['Morning'][nextDay].status = 'disabled';\n      await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Morning', nextDay, 'disabled');\n    }\n    if ((_updatedAvailability$9 = updatedAvailability[userId]) !== null && _updatedAvailability$9 !== void 0 && (_updatedAvailability$10 = _updatedAvailability$9['Noon']) !== null && _updatedAvailability$10 !== void 0 && _updatedAvailability$10[nextDay]) {\n      updatedAvailability[userId]['Noon'][nextDay].status = 'disabled';\n      await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Noon', nextDay, 'disabled');\n    }\n  }\n};\nexport const deselectMorningOrNoonShift = async (userId, day, updatedAvailability, weekKey, currentCompany) => {\n  var _updatedAvailability$14, _updatedAvailability$15, _updatedAvailability$16;\n  const previousDay = calculatePreviousDay(day);\n  const hasOtherSelectedShifts = ['Morning', 'Noon', 'Evening'].some(s => {\n    var _updatedAvailability$11, _updatedAvailability$12, _updatedAvailability$13;\n    return ((_updatedAvailability$11 = updatedAvailability[userId]) === null || _updatedAvailability$11 === void 0 ? void 0 : (_updatedAvailability$12 = _updatedAvailability$11[s]) === null || _updatedAvailability$12 === void 0 ? void 0 : (_updatedAvailability$13 = _updatedAvailability$12[previousDay]) === null || _updatedAvailability$13 === void 0 ? void 0 : _updatedAvailability$13.status) === 'selected';\n  });\n  if (((_updatedAvailability$14 = updatedAvailability[userId]) === null || _updatedAvailability$14 === void 0 ? void 0 : (_updatedAvailability$15 = _updatedAvailability$14['Night']) === null || _updatedAvailability$15 === void 0 ? void 0 : (_updatedAvailability$16 = _updatedAvailability$15[previousDay]) === null || _updatedAvailability$16 === void 0 ? void 0 : _updatedAvailability$16.status) === 'disabled' && !hasOtherSelectedShifts) {\n    updatedAvailability[userId]['Night'][previousDay].status = 'default';\n    await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Night', previousDay, 'default');\n  }\n};\nexport const deselectNightShift = async (userId, day, updatedAvailability, weekKey, weekOffset, currentCompany) => {\n  const nextDay = calculateNextDay(day);\n  if (day === 'Saturday') {\n    const nextWeekKey = calculateWeekKey(weekOffset + 1);\n    const hasSelectedShiftsOnSunday = ['Morning', 'Noon', 'Evening', 'Night'].some(s => {\n      var _updatedAvailability$17, _updatedAvailability$18, _updatedAvailability$19;\n      return ((_updatedAvailability$17 = updatedAvailability[userId]) === null || _updatedAvailability$17 === void 0 ? void 0 : (_updatedAvailability$18 = _updatedAvailability$17[s]) === null || _updatedAvailability$18 === void 0 ? void 0 : (_updatedAvailability$19 = _updatedAvailability$18['Sunday']) === null || _updatedAvailability$19 === void 0 ? void 0 : _updatedAvailability$19.status) === 'selected';\n    });\n    if (!hasSelectedShiftsOnSunday) {\n      var _updatedAvailability$20, _updatedAvailability$21, _updatedAvailability$22, _updatedAvailability$23;\n      if ((_updatedAvailability$20 = updatedAvailability[userId]) !== null && _updatedAvailability$20 !== void 0 && (_updatedAvailability$21 = _updatedAvailability$20['Morning']) !== null && _updatedAvailability$21 !== void 0 && _updatedAvailability$21['Sunday']) {\n        await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Morning', 'Sunday', 'default');\n      }\n      if ((_updatedAvailability$22 = updatedAvailability[userId]) !== null && _updatedAvailability$22 !== void 0 && (_updatedAvailability$23 = _updatedAvailability$22['Noon']) !== null && _updatedAvailability$23 !== void 0 && _updatedAvailability$23['Sunday']) {\n        await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Noon', 'Sunday', 'default');\n      }\n    }\n  } else {\n    const hasSelectedShiftsOnNextDay = ['Morning', 'Noon', 'Evening', 'Night'].some(s => {\n      var _updatedAvailability$24, _updatedAvailability$25, _updatedAvailability$26;\n      return ((_updatedAvailability$24 = updatedAvailability[userId]) === null || _updatedAvailability$24 === void 0 ? void 0 : (_updatedAvailability$25 = _updatedAvailability$24[s]) === null || _updatedAvailability$25 === void 0 ? void 0 : (_updatedAvailability$26 = _updatedAvailability$25[nextDay]) === null || _updatedAvailability$26 === void 0 ? void 0 : _updatedAvailability$26.status) === 'selected';\n    });\n    if (!hasSelectedShiftsOnNextDay) {\n      var _updatedAvailability$27, _updatedAvailability$28, _updatedAvailability$29, _updatedAvailability$30, _updatedAvailability$31, _updatedAvailability$32;\n      if (((_updatedAvailability$27 = updatedAvailability[userId]) === null || _updatedAvailability$27 === void 0 ? void 0 : (_updatedAvailability$28 = _updatedAvailability$27['Morning']) === null || _updatedAvailability$28 === void 0 ? void 0 : (_updatedAvailability$29 = _updatedAvailability$28[nextDay]) === null || _updatedAvailability$29 === void 0 ? void 0 : _updatedAvailability$29.status) === 'disabled') {\n        updatedAvailability[userId]['Morning'][nextDay].status = 'default';\n        await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Morning', nextDay, 'default');\n      }\n      if (((_updatedAvailability$30 = updatedAvailability[userId]) === null || _updatedAvailability$30 === void 0 ? void 0 : (_updatedAvailability$31 = _updatedAvailability$30['Noon']) === null || _updatedAvailability$31 === void 0 ? void 0 : (_updatedAvailability$32 = _updatedAvailability$31[nextDay]) === null || _updatedAvailability$32 === void 0 ? void 0 : _updatedAvailability$32.status) === 'disabled') {\n        updatedAvailability[userId]['Noon'][nextDay].status = 'default';\n        await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Noon', nextDay, 'default');\n      }\n    }\n  }\n};\n\n// Helper functions to calculate previous and next days\nexport const calculatePreviousDay = currentDay => {\n  const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  const currentIndex = daysOfWeek.indexOf(currentDay);\n  return currentIndex > 0 ? daysOfWeek[currentIndex - 1] : daysOfWeek[6];\n};\nexport const calculateNextDay = currentDay => {\n  const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  const currentIndex = daysOfWeek.indexOf(currentDay);\n  return currentIndex < 6 ? daysOfWeek[currentIndex + 1] : daysOfWeek[0];\n};\nexport const handleOtherShiftsOfDayWhenDeselectAShift = async (userId, day, shift, updatedAvailability, weekKey, currentCompany) => {\n  for (const otherShift of ['Morning', 'Noon', 'Evening', 'Night']) {\n    if (otherShift !== shift && updatedAvailability[userId][otherShift][day].status === 'disabled') {\n      if (otherShift === 'Morning' || otherShift === 'Noon') {\n        var _updatedAvailability$33, _updatedAvailability$34, _updatedAvailability$35;\n        // בדיקה אם משמרת הלילה של היום הקודם לא נבחרה\n        const previousDay = calculatePreviousDay(day);\n        if (((_updatedAvailability$33 = updatedAvailability[userId]) === null || _updatedAvailability$33 === void 0 ? void 0 : (_updatedAvailability$34 = _updatedAvailability$33['Night']) === null || _updatedAvailability$34 === void 0 ? void 0 : (_updatedAvailability$35 = _updatedAvailability$34[previousDay]) === null || _updatedAvailability$35 === void 0 ? void 0 : _updatedAvailability$35.status) !== 'selected') {\n          updatedAvailability[userId][otherShift][day].status = 'default';\n          await updateAvailabilityStatus(currentCompany, weekKey, userId, otherShift, day, 'default');\n        }\n      } else if (otherShift === 'Night') {\n        var _updatedAvailability$36, _updatedAvailability$37, _updatedAvailability$38, _updatedAvailability$39, _updatedAvailability$40, _updatedAvailability$41;\n        // בדיקה אם אין משמרות בוקר או צהריים נבחרות ביום הבא\n        const nextDay = calculateNextDay(day);\n        if (!(((_updatedAvailability$36 = updatedAvailability[userId]) === null || _updatedAvailability$36 === void 0 ? void 0 : (_updatedAvailability$37 = _updatedAvailability$36['Morning']) === null || _updatedAvailability$37 === void 0 ? void 0 : (_updatedAvailability$38 = _updatedAvailability$37[nextDay]) === null || _updatedAvailability$38 === void 0 ? void 0 : _updatedAvailability$38.status) === 'selected' || ((_updatedAvailability$39 = updatedAvailability[userId]) === null || _updatedAvailability$39 === void 0 ? void 0 : (_updatedAvailability$40 = _updatedAvailability$39['Noon']) === null || _updatedAvailability$40 === void 0 ? void 0 : (_updatedAvailability$41 = _updatedAvailability$40[nextDay]) === null || _updatedAvailability$41 === void 0 ? void 0 : _updatedAvailability$41.status) === 'selected')) {\n          updatedAvailability[userId][otherShift][day].status = 'default';\n          await updateAvailabilityStatus(currentCompany, weekKey, userId, otherShift, day, 'default');\n        }\n      } else {\n        // עדכון ברירת מחדל למשמרות אחרות\n        updatedAvailability[userId][otherShift][day].status = 'default';\n        await updateAvailabilityStatus(currentCompany, weekKey, userId, otherShift, day, 'default');\n      }\n    }\n  }\n};\nconst handleWeekChange = direction => {\n  setWeekOffset(prevOffset => prevOffset + direction);\n};","map":{"version":3,"names":["updateAvailabilityStatus","calculateWeekKey","weekOffset","today","Date","firstDayOfWeek","setDate","getDate","getDay","formatDate","date","getFullYear","String","getMonth","padStart","calculateWeekRange","lastDayOfWeek","day","month","year","selectMorningOrNoonShift","userId","updatedAvailability","weekKey","currentCompany","_updatedAvailability$","_updatedAvailability$2","previousDay","calculatePreviousDay","status","selectNightShift","nextDay","calculateNextDay","_updatedAvailability$3","_updatedAvailability$4","_updatedAvailability$5","_updatedAvailability$6","nextWeekKey","_updatedAvailability$7","_updatedAvailability$8","_updatedAvailability$9","_updatedAvailability$10","deselectMorningOrNoonShift","_updatedAvailability$14","_updatedAvailability$15","_updatedAvailability$16","hasOtherSelectedShifts","some","s","_updatedAvailability$11","_updatedAvailability$12","_updatedAvailability$13","deselectNightShift","hasSelectedShiftsOnSunday","_updatedAvailability$17","_updatedAvailability$18","_updatedAvailability$19","_updatedAvailability$20","_updatedAvailability$21","_updatedAvailability$22","_updatedAvailability$23","hasSelectedShiftsOnNextDay","_updatedAvailability$24","_updatedAvailability$25","_updatedAvailability$26","_updatedAvailability$27","_updatedAvailability$28","_updatedAvailability$29","_updatedAvailability$30","_updatedAvailability$31","_updatedAvailability$32","currentDay","daysOfWeek","currentIndex","indexOf","handleOtherShiftsOfDayWhenDeselectAShift","shift","otherShift","_updatedAvailability$33","_updatedAvailability$34","_updatedAvailability$35","_updatedAvailability$36","_updatedAvailability$37","_updatedAvailability$38","_updatedAvailability$39","_updatedAvailability$40","_updatedAvailability$41","handleWeekChange","direction","setWeekOffset","prevOffset"],"sources":["/Users/dorlevi/IdeaProjects/newShiftWise/client/src/utils/utils.js"],"sourcesContent":["// utils/utils.js\nimport { updateAvailabilityStatus } from '../services/availabilityService';\n\nexport const calculateWeekKey = (weekOffset) => {\n    const today = new Date();\n    const firstDayOfWeek = new Date(today.setDate(today.getDate() - today.getDay() + weekOffset * 7));\n    const formatDate = (date) =>\n        `${date.getFullYear()}_${String(date.getMonth() + 1).padStart(2, '0')}_${String(date.getDate()).padStart(2, '0')}`;\n    return `week_${formatDate(firstDayOfWeek)}`;\n};\n\nexport const calculateWeekRange = (weekOffset) => {\n    const today = new Date();\n    const firstDayOfWeek = new Date(today.setDate(today.getDate() - today.getDay() + weekOffset * 7));\n    const lastDayOfWeek = new Date(firstDayOfWeek);\n    lastDayOfWeek.setDate(firstDayOfWeek.getDate() + 6);\n\n    const formatDate = (date) => {\n        const day = String(date.getDate()).padStart(2, '0');\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const year = date.getFullYear();\n        return `${day}/${month}/${year}`;\n    };\n\n    return `${formatDate(firstDayOfWeek)} - ${formatDate(lastDayOfWeek)}`;\n};\n\nexport const selectMorningOrNoonShift = async (userId, day, updatedAvailability, weekKey, currentCompany) => {\n    const previousDay = calculatePreviousDay(day);\n\n    if (updatedAvailability[userId]?.['Night']?.[previousDay]) {\n        updatedAvailability[userId]['Night'][previousDay].status = 'disabled';\n        await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Night', previousDay, 'disabled');\n    }\n};\n\nexport const selectNightShift = async (userId, day, updatedAvailability, weekKey, weekOffset, currentCompany) => {\n    const nextDay = calculateNextDay(day);\n\n    if (day === 'Saturday') {\n        const nextWeekKey = calculateWeekKey(weekOffset + 1);\n        if (updatedAvailability[userId]?.['Morning']?.['Sunday']) {\n            await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Morning', 'Sunday', 'disabled');\n        }\n        if (updatedAvailability[userId]?.['Noon']?.['Sunday']) {\n            await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Noon', 'Sunday', 'disabled');\n        }\n    } else {\n        if (updatedAvailability[userId]?.['Morning']?.[nextDay]) {\n            updatedAvailability[userId]['Morning'][nextDay].status = 'disabled';\n            await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Morning', nextDay, 'disabled');\n        }\n        if (updatedAvailability[userId]?.['Noon']?.[nextDay]) {\n            updatedAvailability[userId]['Noon'][nextDay].status = 'disabled';\n            await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Noon', nextDay, 'disabled');\n        }\n    }\n};\n\nexport const deselectMorningOrNoonShift = async (userId, day, updatedAvailability, weekKey, currentCompany) => {\n    const previousDay = calculatePreviousDay(day);\n\n    const hasOtherSelectedShifts = ['Morning', 'Noon', 'Evening'].some(\n        (s) => updatedAvailability[userId]?.[s]?.[previousDay]?.status === 'selected'\n    );\n\n    if (\n        updatedAvailability[userId]?.['Night']?.[previousDay]?.status === 'disabled' &&\n        !hasOtherSelectedShifts\n    ) {\n        updatedAvailability[userId]['Night'][previousDay].status = 'default';\n        await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Night', previousDay, 'default');\n    }\n};\n\nexport const deselectNightShift = async (userId, day, updatedAvailability, weekKey, weekOffset, currentCompany) => {\n    const nextDay = calculateNextDay(day);\n\n    if (day === 'Saturday') {\n        const nextWeekKey = calculateWeekKey(weekOffset + 1);\n\n        const hasSelectedShiftsOnSunday = ['Morning', 'Noon', 'Evening', 'Night'].some(\n            (s) => updatedAvailability[userId]?.[s]?.['Sunday']?.status === 'selected'\n        );\n\n        if (!hasSelectedShiftsOnSunday) {\n            if (updatedAvailability[userId]?.['Morning']?.['Sunday']) {\n                await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Morning', 'Sunday', 'default');\n            }\n            if (updatedAvailability[userId]?.['Noon']?.['Sunday']) {\n                await updateAvailabilityStatus(currentCompany, nextWeekKey, userId, 'Noon', 'Sunday', 'default');\n            }\n        }\n    } else {\n        const hasSelectedShiftsOnNextDay = ['Morning', 'Noon', 'Evening', 'Night'].some(\n            (s) => updatedAvailability[userId]?.[s]?.[nextDay]?.status === 'selected'\n        );\n\n        if (!hasSelectedShiftsOnNextDay) {\n            if (updatedAvailability[userId]?.['Morning']?.[nextDay]?.status === 'disabled') {\n                updatedAvailability[userId]['Morning'][nextDay].status = 'default';\n                await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Morning', nextDay, 'default');\n            }\n            if (updatedAvailability[userId]?.['Noon']?.[nextDay]?.status === 'disabled') {\n                updatedAvailability[userId]['Noon'][nextDay].status = 'default';\n                await updateAvailabilityStatus(currentCompany, weekKey, userId, 'Noon', nextDay, 'default');\n            }\n        }\n    }\n};\n\n// Helper functions to calculate previous and next days\nexport const calculatePreviousDay = (currentDay) => {\n    const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const currentIndex = daysOfWeek.indexOf(currentDay);\n    return currentIndex > 0 ? daysOfWeek[currentIndex - 1] : daysOfWeek[6];\n};\n\nexport const calculateNextDay = (currentDay) => {\n    const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const currentIndex = daysOfWeek.indexOf(currentDay);\n    return currentIndex < 6 ? daysOfWeek[currentIndex + 1] : daysOfWeek[0];\n};\n\nexport const handleOtherShiftsOfDayWhenDeselectAShift = async (userId, day, shift, updatedAvailability, weekKey, currentCompany) => {\n    for (const otherShift of ['Morning', 'Noon', 'Evening', 'Night']) {\n        if (otherShift !== shift && updatedAvailability[userId][otherShift][day].status === 'disabled') {\n            if (otherShift === 'Morning' || otherShift === 'Noon') {\n                // בדיקה אם משמרת הלילה של היום הקודם לא נבחרה\n                const previousDay = calculatePreviousDay(day);\n                if (\n                    updatedAvailability[userId]?.['Night']?.[previousDay]?.status !== 'selected'\n                ) {\n                    updatedAvailability[userId][otherShift][day].status = 'default';\n                    await updateAvailabilityStatus(currentCompany, weekKey, userId, otherShift, day, 'default');\n                }\n            } else if (otherShift === 'Night') {\n                // בדיקה אם אין משמרות בוקר או צהריים נבחרות ביום הבא\n                const nextDay = calculateNextDay(day);\n                if (\n                    !(\n                        updatedAvailability[userId]?.['Morning']?.[nextDay]?.status === 'selected' ||\n                        updatedAvailability[userId]?.['Noon']?.[nextDay]?.status === 'selected'\n                    )\n                ) {\n                    updatedAvailability[userId][otherShift][day].status = 'default';\n                    await updateAvailabilityStatus(currentCompany, weekKey, userId, otherShift, day, 'default');\n                }\n            } else {\n                // עדכון ברירת מחדל למשמרות אחרות\n                updatedAvailability[userId][otherShift][day].status = 'default';\n                await updateAvailabilityStatus(currentCompany, weekKey, userId, otherShift, day, 'default');\n            }\n        }\n    }\n};\n\nconst handleWeekChange = (direction) => {\n    setWeekOffset((prevOffset) => prevOffset + direction);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}