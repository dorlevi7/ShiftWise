{"ast":null,"code":"// src/services/notificationService.js\nimport { getDatabase, ref, get, update } from 'firebase/database';\n\n// שליפת ההודעות למשתמש\nexport const getUserNotifications = async (companyId, userId) => {\n  const db = getDatabase();\n  const snapshot = await get(ref(db, `notifications/${companyId}/${userId}`));\n  return snapshot.exists() ? snapshot.val() : {};\n};\n\n// סימון הודעה כנקראה\nexport const markAsRead = async (companyId, userId, notificationId) => {\n  const db = getDatabase();\n  const notificationRef = ref(db, `notifications/${companyId}/${userId}/${notificationId}`);\n  await update(notificationRef, {\n    read: true\n  });\n};","map":{"version":3,"names":["getDatabase","ref","get","update","getUserNotifications","companyId","userId","db","snapshot","exists","val","markAsRead","notificationId","notificationRef","read"],"sources":["/Users/dorlevi/IdeaProjects/newShiftWise/client/src/services/notificationService.js"],"sourcesContent":["// src/services/notificationService.js\nimport { getDatabase, ref, get, update } from 'firebase/database';\n\n// שליפת ההודעות למשתמש\nexport const getUserNotifications = async (companyId, userId) => {\n    const db = getDatabase();\n    const snapshot = await get(ref(db, `notifications/${companyId}/${userId}`));\n    return snapshot.exists() ? snapshot.val() : {};\n};\n\n// סימון הודעה כנקראה\nexport const markAsRead = async (companyId, userId, notificationId) => {\n    const db = getDatabase();\n    const notificationRef = ref(db, `notifications/${companyId}/${userId}/${notificationId}`);\n    await update(notificationRef, { read: true });\n};\n"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,QAAQ,mBAAmB;;AAEjE;AACA,OAAO,MAAMC,oBAAoB,GAAG,MAAAA,CAAOC,SAAS,EAAEC,MAAM,KAAK;EAC7D,MAAMC,EAAE,GAAGP,WAAW,CAAC,CAAC;EACxB,MAAMQ,QAAQ,GAAG,MAAMN,GAAG,CAACD,GAAG,CAACM,EAAE,EAAE,iBAAiBF,SAAS,IAAIC,MAAM,EAAE,CAAC,CAAC;EAC3E,OAAOE,QAAQ,CAACC,MAAM,CAAC,CAAC,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AAClD,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAON,SAAS,EAAEC,MAAM,EAAEM,cAAc,KAAK;EACnE,MAAML,EAAE,GAAGP,WAAW,CAAC,CAAC;EACxB,MAAMa,eAAe,GAAGZ,GAAG,CAACM,EAAE,EAAE,iBAAiBF,SAAS,IAAIC,MAAM,IAAIM,cAAc,EAAE,CAAC;EACzF,MAAMT,MAAM,CAACU,eAAe,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC,CAAC;AACjD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}