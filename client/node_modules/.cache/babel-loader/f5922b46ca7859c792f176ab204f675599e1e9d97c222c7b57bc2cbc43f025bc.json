{"ast":null,"code":"// utils/userUtils.js\nimport { getUsers } from '../services/userService';\nexport const getLoggedInUser = navigate => {\n  const loggedUser = JSON.parse(localStorage.getItem('user'));\n  if (!loggedUser) {\n    navigate('/');\n    return null;\n  }\n  return loggedUser;\n};\nexport const fetchUserFromDB = async userId => {\n  try {\n    const allUsers = await getUsers();\n    const usersWithIds = Object.entries(allUsers).map(([id, user]) => ({\n      id,\n      ...user\n    }));\n    return usersWithIds.find(u => u.id === userId);\n  } catch (error) {\n    console.error(\"❌ Error fetching user from DB:\", error);\n    return null;\n  }\n};","map":{"version":3,"names":["getUsers","getLoggedInUser","navigate","loggedUser","JSON","parse","localStorage","getItem","fetchUserFromDB","userId","allUsers","usersWithIds","Object","entries","map","id","user","find","u","error","console"],"sources":["/Users/dorlevi/IdeaProjects/newShiftWise/client/src/utils/userUtils.js"],"sourcesContent":["// utils/userUtils.js\nimport { getUsers } from '../services/userService';\n\nexport const getLoggedInUser = (navigate) => {\n    const loggedUser = JSON.parse(localStorage.getItem('user'));\n    if (!loggedUser) {\n        navigate('/');\n        return null;\n    }\n    return loggedUser;\n};\n\nexport const fetchUserFromDB = async (userId) => {\n    try {\n        const allUsers = await getUsers();\n        const usersWithIds = Object.entries(allUsers).map(([id, user]) => ({ id, ...user }));\n        return usersWithIds.find((u) => u.id === userId);\n    } catch (error) {\n        console.error(\"❌ Error fetching user from DB:\", error);\n        return null;\n    }\n};\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,QAAQ,yBAAyB;AAElD,OAAO,MAAMC,eAAe,GAAIC,QAAQ,IAAK;EACzC,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAC3D,IAAI,CAACJ,UAAU,EAAE;IACbD,QAAQ,CAAC,GAAG,CAAC;IACb,OAAO,IAAI;EACf;EACA,OAAOC,UAAU;AACrB,CAAC;AAED,OAAO,MAAMK,eAAe,GAAG,MAAOC,MAAM,IAAK;EAC7C,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMV,QAAQ,CAAC,CAAC;IACjC,MAAMW,YAAY,GAAGC,MAAM,CAACC,OAAO,CAACH,QAAQ,CAAC,CAACI,GAAG,CAAC,CAAC,CAACC,EAAE,EAAEC,IAAI,CAAC,MAAM;MAAED,EAAE;MAAE,GAAGC;IAAK,CAAC,CAAC,CAAC;IACpF,OAAOL,YAAY,CAACM,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKN,MAAM,CAAC;EACpD,CAAC,CAAC,OAAOU,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD,OAAO,IAAI;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}